---
pipeline: 
   agent: 
     any:
   stages:
   - stage: "Checkout"
     steps:
        - git 'https://github.com/DsquareZone/react-e-commerce-website.git'      
   - stage: "Build ReactJS App"  
     steps: 
        - sh "sudo npm install"
        - sh "sudo npm run build"
   - stage: "Deploy ReactJS App"
     steps:     
        - sh "sudo cp -r * ${WORKSPACE}/build/ /var/www/react-e-commerce-website/"
   - stage: "Docker Build Image"
     steps: 
        - sh 'docker build -f Dockerfile -t surya116gd/nodeapp:latest .' 
   - stage: "Docker Login"
     steps:
        - sh 'docker login -u surya116gd -p 94402539-f782-4f43-a28f-c60f7537ca9d'     
   - stage: "Docker Image Push "
     steps:   
        - sh 'docker push surya116gd/nodeapp:latest'  
   - stage: "Docker Logout"
     steps: 
        - sh 'docker logout'     
   - stage: "Pipeline after execution"
     steps:
        - sh "echo 'Pipeline script was executed successfully'"      
...
